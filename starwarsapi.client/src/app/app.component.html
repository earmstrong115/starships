<h1 style="color: var(--mat-sys-primary)">Starships</h1>

<button mat-stroked-button (click)="openCreateDialog()">Create New Starship</button>
<br/><br />

<mat-form-field appearance="outline" style="width: 300px; margin-bottom: 16px;">
  <mat-label>Filter starships</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Type to filter all columns" />
</mat-form-field>

<mat-spinner diameter="25" *ngIf="isLoading"></mat-spinner>
<table mat-table [dataSource]="dataSource" matSort>

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
    <td mat-cell *matCellDef="let starship">{{starship.name}}</td>
  </ng-container>

  <!-- Model Column -->
  <ng-container matColumnDef="model">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Model </th>
    <td mat-cell *matCellDef="let starship"> {{starship.model}} </td>
  </ng-container>

  <!-- Manufacturer Column -->
  <ng-container matColumnDef="manufacturer">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Manufacturer </th>
    <td mat-cell *matCellDef="let starship"> {{starship.manufacturer}} </td>
  </ng-container>

  <!-- Cost in Credits Column -->
  <ng-container matColumnDef="cost_in_credits">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Cost in Credits </th>
    <td mat-cell *matCellDef="let starship"> {{starship.cost_in_credits}} </td>
  </ng-container>

  <!-- Length Column -->
  <ng-container matColumnDef="length">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Length </th>
    <td mat-cell *matCellDef="let starship"> {{starship.length}} </td>
  </ng-container>

  <!-- Max Atmosphering Speed Column -->
  <ng-container matColumnDef="max_atmosphering_speed">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Max Atmos Speed </th>
    <td mat-cell *matCellDef="let starship"> {{starship.max_atmosphering_speed}} </td>
  </ng-container>

  <!-- Crew Column -->
  <ng-container matColumnDef="crew">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Crew </th>
    <td mat-cell *matCellDef="let starship"> {{starship.crew}} </td>
  </ng-container>

  <!-- Passengers Column -->
  <ng-container matColumnDef="passengers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Passengers </th>
    <td mat-cell *matCellDef="let starship"> {{starship.passengers}} </td>
  </ng-container>

  <!-- Cargo Capacity Column -->
  <ng-container matColumnDef="cargo_capacity">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Cargo Capacity </th>
    <td mat-cell *matCellDef="let starship"> {{starship.cargo_capacity}} </td>
  </ng-container>

  <!-- Consumables Column -->
  <ng-container matColumnDef="consumables">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Consumables </th>
    <td mat-cell *matCellDef="let starship"> {{starship.consumables}} </td>
  </ng-container>

  <!-- Hyperdrive Rating Column -->
  <ng-container matColumnDef="hyperdrive_rating">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Hyperdrive Rating </th>
    <td mat-cell *matCellDef="let starship"> {{starship.hyperdrive_rating}} </td>
  </ng-container>

  <!-- MGLT Column -->
  <ng-container matColumnDef="mglt">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> MGLT </th>
    <td mat-cell *matCellDef="let starship"> {{starship.mglt}} </td>
  </ng-container>

  <!-- Starship Class Column -->
  <ng-container matColumnDef="starship_class">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Starship Class </th>
    <td mat-cell *matCellDef="let starship"> {{starship.starship_class}} </td>
  </ng-container>

  <!-- Actions Column -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let starship">
      <button mat-button (click)="openEditDialog(starship)">Edit</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>

<br />
<button mat-stroked-button (click)="seedData()">Seed Data</button>
